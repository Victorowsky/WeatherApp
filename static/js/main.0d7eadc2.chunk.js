(this["webpackJsonpwatching-platform"]=this["webpackJsonpwatching-platform"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(0),i=a.n(c),o=a(8),r=a.n(o),s=(a(50),a(13)),l=a(11),d=(a(51),a(91)),u=a(90),j=a(92),m=a(38),h=a.n(m),b=function(e){var t,a=e.data,i=e.imgLink,o=e.isPolish,r=e.setBookMarkedCities,l=e.hours,d=e.bookMarkedCities,u=e.city,j=(new Date).toLocaleDateString(),m=(new Date).getUTCMinutes();t=window.innerWidth<400?{alignSelf:"center",transition:"0.3s"}:{alignSelf:"flex-end",transition:"0.3s"};var b=Object(c.useRef)();return d.filter((function(e){return e===a.name||e===u})).length>0&&b.current?b.current.classList.add("marked"):b.current&&b.current.classList.remove("marked"),Object(n.jsxs)("div",{className:"answerData",children:[Object(n.jsxs)("div",{className:"location",children:[Object(n.jsxs)("h1",{className:"cityName",children:[a.name,", ",a.sys.country]}),Object(n.jsx)("div",{title:"Clouds: ".concat(a.clouds.all,"%"),className:"temperatureAnswer2",children:Object(n.jsx)("img",{className:"weatherIcon",src:i,alt:"",srcSet:""})}),Object(n.jsxs)("div",{className:"localeTime",children:[Object(n.jsx)("p",{children:"".concat(o?["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"][(new Date).getDay()]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()])}),Object(n.jsx)("p",{children:(new Date).getDate()<10?"0".concat(j):j}),Object(n.jsx)("div",{children:l<10?Object(n.jsx)("p",{children:m<10?"0".concat(l,":0").concat(m):"0".concat(l,":").concat(m)}):Object(n.jsx)("p",{children:m<10?"".concat(l,":0").concat(m):"".concat(l,":").concat(m)})})]})]}),Object(n.jsxs)("div",{className:"temperature",children:[Object(n.jsx)(h.a,{ref:b,className:"bookMark",style:t,onClick:function(e){e.target.getAttribute("d")||(e.target.classList.toggle("marked"),e.target.classList.contains("marked")?r((function(e){return[].concat(Object(s.a)(e),[a.name])})):r((function(e){var t=e.indexOf(a.name);return e.filter((function(e,a){return a!==t}))})))}}),Object(n.jsx)("h2",{title:"Current",className:"primaryTemperature",children:"".concat(Math.round(a.main.temp),"\u2103")}),Object(n.jsx)("h4",{title:"MAX/MIN",className:"secondaryTemperature",children:"".concat(Math.round(a.main.temp_max),"\u2103 / ").concat(Math.round(a.main.temp_min),"\u2103")})]})]})},g=function(e){var t=e.bookMarkCities,a=e.setCity,c=t.map((function(e,t){return Object(n.jsx)("div",{style:{transition:.3},onClick:function(){a(e)},className:"bookmarkSelf",children:e},t)}));return Object(n.jsx)("div",{className:"bookmarksSection",children:c})};var f=function(){var e=Object(c.useState)("eng"),t=Object(l.a)(e,2),a=t[0],i=t[1],o=["Warsaw","Paris","Madrid","Berlin","Barcelona","Rio","New York","Chicago","London","Rome","Tokyo"],r=["Warszawa","Pary\u017c","Madryt","Berlin","Barcelona","Rio","Nowy York","Chicago","Londyn","Rome","Tokio"],m=Object(c.useState)(),h=Object(l.a)(m,2),f=h[0],O=h[1],k="https://api.openweathermap.org/data/2.5/weather?q=".concat(f,"&units=metric&lang=").concat(a,"&appid=").concat("40606d1a7691345518b8f45275e22d47"),p=Object(c.useState)("01d"),x=Object(l.a)(p,2),w=x[0],y=x[1],S="https://openweathermap.org/img/wn/".concat(w,"@2x.png"),v=Object(c.useState)([]),C=Object(l.a)(v,2),M=C[0],N=C[1],P=Object(c.useState)(!1),D=Object(l.a)(P,2),I=D[0],L=D[1],T=Object(c.useState)(""),z=Object(l.a)(T,2),B=z[0],E=z[1],R=Object(c.useState)([]),W=Object(l.a)(R,2),A=W[0],J=W[1];return Object(c.useEffect)((function(){O(I?r[Math.floor(Math.random()*r.length)]:o[Math.floor(Math.random()*o.length)]),localStorage.getItem("bookMarkedCities")&&JSON.parse(localStorage.getItem("bookMarkedCities")).forEach((function(e){J((function(t){return[].concat(Object(s.a)(t),[e])}))}))}),[]),Object(c.useEffect)((function(){fetch(k).then((function(e){return e.json()})).then((function(e){if(200===e.cod){N(e);var t=(new Date).getUTCHours();t+=e.timezone/3600,E(t>=24?t-=24:(new Date).getUTCHours()+e.timezone/3600),y(e.weather[0].icon)}})),localStorage.getItem("isPolish")||localStorage.setItem("isPolish",!1),"false"===localStorage.getItem("isPolish")?L(!1):L(!0)}),[f,k]),Object(c.useEffect)((function(){localStorage.setItem("bookMarkedCities",JSON.stringify(A))}),[A]),Object(n.jsxs)("div",{className:"app",children:[Object(n.jsxs)("div",{className:"weatherApp",children:[Object(n.jsxs)("div",{className:"inputCity",children:[Object(n.jsx)("h2",{children:I?"Podaj nazwe miasta":"Enter city name"}),Object(n.jsx)(d.a,{value:f,onChange:function(e){return O(e.target.value)},id:"outlined-basic",label:I?"Miasto":"City",variant:"outlined"})]}),M.main?Object(n.jsx)(b,{bookMarkedCities:A,setBookMarkedCities:J,data:M,imgLink:S,isPolish:I,hours:B,city:f}):Object(n.jsx)(u.a,{})]}),Object(n.jsx)(g,{setCity:O,bookMarkCities:A}),Object(n.jsxs)("div",{className:"languageSwitch",children:["ENG",Object(n.jsx)(j.a,{color:"default",id:"switch",checked:I,onChange:function(){var e;L((function(e){return!e})),i((function(e){return"eng"===e?"pl":"eng"})),e="false"===localStorage.getItem("isPolish")?"true":"false",localStorage.setItem("isPolish",e)}}),"PL"]})]})};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.0d7eadc2.chunk.js.map