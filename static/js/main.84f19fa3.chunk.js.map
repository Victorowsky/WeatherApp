{"version":3,"sources":["comp/AnswerData.js","comp/Bookmarks.js","App.js","index.js"],"names":["AnswerData","data","imgLink","isPolish","setBookMarkedCities","hours","bookMarkedCities","city","time","Date","toLocaleDateString","minutes","getUTCMinutes","BookmarkButton","useRef","filter","item","name","length","current","classList","add","remove","className","sys","country","title","clouds","all","src","alt","srcSet","getDay","getDate","ref","style","alignSelf","transition","onClick","e","target","getAttribute","toggle","contains","prev","cityIndex","indexOf","index","Math","round","main","temp","temp_max","temp_min","Bookmarks","bookMarkCities","setCity","bookmarks","map","bookmark","App","useState","lang","setLang","cities","polishCities","FetchURL","iconID","setIconID","setData","setIsPolish","setHours","useEffect","floor","random","localStorage","getItem","JSON","parse","forEach","fetch","then","res","json","cod","newHours","getUTCHours","timezone","weather","icon","setItem","stringify","TextField","value","onChange","id","label","variant","CircularProgress","Switch","color","checked","previousIsPolish","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kSA2HeA,EAvHI,SAAC,GAAsF,IAApFC,EAAmF,EAAnFA,KAAMC,EAA6E,EAA7EA,QAASC,EAAoE,EAApEA,SAAUC,EAA0D,EAA1DA,oBAAsBC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,iBAAkBC,EAAW,EAAXA,KAoBtFC,GAAO,IAAIC,MAAOC,qBAClBC,GAAU,IAAIF,MAAOG,gBA4BrBC,EAAiBC,mBAYvB,OAVqBR,EAAiBS,QAAO,SAAAC,GAAI,OAAGA,IAASf,EAAKgB,MAAQD,IAAST,KAEnEW,OAAS,GAAKL,EAAeM,QAC3CN,EAAeM,QAAQC,UAAUC,IAAI,UAGlCR,EAAeM,SAASN,EAAeM,QAAQC,UAAUE,OAAO,UAKnE,sBAAKC,UAAU,aAAf,UACE,sBAAKA,UAAU,WAAf,UACE,qBAAIA,UAAU,WAAd,UACGtB,EAAKgB,KADR,KACgBhB,EAAKuB,IAAIC,WAGzB,qBACEC,MAAK,kBAAazB,EAAK0B,OAAOC,IAAzB,KACLL,UAAU,qBAFZ,SAIE,qBAAKA,UAAU,cAAcM,IAAK3B,EAAS4B,IAAI,GAAGC,OAAO,OAG3D,sBAAKR,UAAU,aAAf,UACE,4BACW,UAARpB,EA5EY,CACrB,YACA,oBACA,SACA,aACA,WACA,cACA,WAsE8B,IAAIM,MAAOuB,UAnE1B,CACf,SACA,SACA,UACA,YACA,WACA,SACA,aA6DwB,IAAIvB,MAAOuB,aAE7B,6BAAI,IAAIvB,MAAOwB,UAAY,GAAvB,WAAgCzB,GAASA,IAC7C,8BACGH,EAAQ,GACP,4BACGM,EAAU,GAAV,WACON,EADP,aACiBM,GADjB,WAEON,EAFP,YAEgBM,KAGnB,4BACGA,EAAU,GAAV,UAAkBN,EAAlB,aAA4BM,GAA5B,UAA2CN,EAA3C,YAAoDM,aAO/D,sBAAKY,UAAU,cAAf,UAEE,cAAC,IAAD,CACEW,IAAKrB,EACLU,UAAU,WACVY,MA3DwB,CAC9BC,UAAW,WACXC,WAAa,QA0DPC,QA/EW,SAACC,GACdA,EAAEC,OAAOC,aAAa,OACtBF,EAAEC,OAAOpB,UAAUsB,OAAO,UACzBH,EAAEC,OAAOpB,UAAUuB,SAAS,UAC7BvC,GAAoB,SAAAwC,GAAI,4BAAOA,GAAP,CAAa3C,EAAKgB,UAG1Cb,GAAoB,SAAAwC,GACpB,IAAMC,EAAYD,EAAKE,QAAQ7C,EAAKgB,MAElC,OADe2B,EAAK7B,QAAO,SAACC,EAAM+B,GAAP,OAAgBA,IAAUF,YA0EvD,oBAAInB,MAAM,UAAUH,UAAU,qBAA9B,mBAAuDyB,KAAKC,MAC1DhD,EAAKiD,KAAKC,MADZ,YAGA,oBAAIzB,MAAM,UAAUH,UAAU,uBAA9B,mBAAyDyB,KAAKC,MAC5DhD,EAAKiD,KAAKE,UADZ,oBAEQJ,KAAKC,MAAMhD,EAAKiD,KAAKG,UAF7B,mBClGOC,EAjBG,SAAC,GAA+B,IAA9BC,EAA6B,EAA7BA,eAAgBC,EAAa,EAAbA,QAE9BC,EAAYF,EAAeG,KAAI,SAACC,EAAUZ,GAC5C,OACI,qBAAKZ,MAAO,CAACE,WAAY,IAAMC,QAAS,WAAKkB,EAAQG,IAAwBpC,UAAU,eAAvF,SACKoC,GADiEZ,MAM1E,OACI,qBAAKxB,UAAU,mBAAf,SACKkC,KC8IEG,MAlJf,WACE,IADa,EAEWC,mBAAS,OAFpB,mBAENC,EAFM,KAEAC,EAFA,KAGPC,EAAS,CACb,SACA,QACA,SACA,SACA,YACA,MACA,WACA,UACA,SACA,OACA,SAEIC,EAAe,CACnB,WACA,aACA,SACA,SACA,YACA,MACA,YACA,UACA,SACA,OACA,SA3BW,EA6BWJ,qBA7BX,mBA6BNtD,EA7BM,KA6BAiD,EA7BA,KA8BPU,EAAQ,4DAAwD3D,EAAxD,8BAAkFuD,EAAlF,kBA7BE,oCADH,EA+BeD,mBAAS,OA/BxB,mBA+BNM,EA/BM,KA+BEC,EA/BF,KAgCPlE,EAAO,4CAAwCiE,EAAxC,WAhCA,EAiCWN,mBAAS,IAjCpB,mBAiCN5D,EAjCM,KAiCAoE,EAjCA,OAkCmBR,oBAAS,GAlC5B,mBAkCN1D,EAlCM,KAkCImE,EAlCJ,OAmCaT,mBAAS,IAnCtB,mBAmCNxD,EAnCM,KAmCCkE,EAnCD,OAoCmCV,mBAAS,IApC5C,mBAoCNvD,EApCM,KAoCYF,EApCZ,KA4Fb,OAtDAoE,qBAAU,WAINhB,EAHGrD,EAGK8D,EAAajB,KAAKyB,MAAMzB,KAAK0B,SAAWT,EAAa/C,SAFrD8C,EAAOhB,KAAKyB,MAAMzB,KAAK0B,SAAWV,EAAO9C,UAKhDyD,aAAaC,QAAQ,qBAClBC,KAAKC,MAAMH,aAAaC,QAAQ,qBAAqBG,SAAQ,SAAAxE,GACjEH,GAAoB,SAAAwC,GAAI,4BAAQA,GAAR,CAAcrC,YAMvC,IAEHiE,qBAAU,WACRQ,MAAMd,GACHe,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACL,GAAgB,MAAZA,EAAIE,IAAa,CACnBf,EAAQa,GACR,IAAIG,GAAW,IAAI5E,MAAO6E,cAC1BD,GAAYH,EAAIK,SAAW,KAGzBhB,EAFEc,GAAY,GACdA,GAAY,IAGH,IAAI5E,MAAO6E,cAAgBJ,EAAIK,SAAW,MAErDnB,EAAUc,EAAIM,QAAQ,GAAGC,UAI1Bd,aAAaC,QAAQ,aACxBD,aAAae,QAAQ,YAAY,GAEM,UAArCf,aAAaC,QAAQ,YACvBN,GAAY,GAEZA,GAAY,KAIb,CAAC/D,EAAM2D,IAGVM,qBAAU,WACRG,aAAae,QAAQ,mBAAoBb,KAAKc,UAAUrF,MAExD,CAACA,IAID,sBAAKiB,UAAU,MAAf,UACE,sBAAKA,UAAU,aAAf,UACE,sBAAKA,UAAU,YAAf,UACE,6BAAKpB,EAAW,qBAAuB,oBACvC,cAACyF,EAAA,EAAD,CACEC,MAAOtF,EACPuF,SAAU,SAACvD,GAAD,OAAOiB,EAAQjB,EAAEC,OAAOqD,QAClCE,GAAG,iBACHC,MAAO7F,EAAW,SAAW,OAC7B8F,QAAQ,gBAIXhG,EAAKiD,KACJ,cAAC,EAAD,CACE5C,iBAAkBA,EAClBF,oBAAqBA,EACrBH,KAAMA,EACNC,QAASA,EACTC,SAAUA,EACVE,MAAOA,EACPE,KAAMA,IAGR,cAAC2F,EAAA,EAAD,OAGJ,cAAC,EAAD,CAAW1C,QAASA,EAASD,eAAgBjD,IAE7C,sBAAKiB,UAAU,iBAAf,gBAEE,cAAC4E,EAAA,EAAD,CACEC,MAAM,UACNL,GAAG,SACHM,QAASlG,EACT2F,SAAU,WACR,IAAIQ,EACJhC,GAAY,SAAC1B,GAAD,OAAWA,KACvBmB,GAAQ,SAACnB,GAAD,MAAoB,QAATA,EAAiB,KAAO,SAEzC0D,EADuC,UAArC3B,aAAaC,QAAQ,YACJ,OAEA,QAErBD,aAAae,QAAQ,WAAYY,MAfvC,YC5HNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.84f19fa3.chunk.js","sourcesContent":["\r\nimport BookmarkBorderIcon from \"@material-ui/icons/BookmarkBorder\";\r\nimport { useRef } from \"react\";\r\n\r\nconst AnswerData = ({ data, imgLink, isPolish, setBookMarkedCities,  hours, bookMarkedCities, city }) => {\r\n  const weekDaysPolish = [\r\n    \"Niedziela\",\r\n    \"Poniedziałek\",\r\n    \"Wtorek\",\r\n    \"Środa\",\r\n    \"Czwartek\",\r\n    \"Piątek\",\r\n    \"Sobota\",\r\n  ];\r\n\r\n  const weekDays = [\r\n    \"Sunday\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\",\r\n  ];\r\n  const time = new Date().toLocaleDateString();\r\n  const minutes = new Date().getUTCMinutes();\r\n\r\n\r\n  \r\n  const handleMark = (e) => {\r\n    if(!e.target.getAttribute('d')){  // DISABLE BORDER CLICK\r\n        e.target.classList.toggle(\"marked\");\r\n      if(e.target.classList.contains('marked')){\r\n        setBookMarkedCities(prev=> [...prev, data.name])\r\n\r\n      }else{\r\n        setBookMarkedCities(prev=> {\r\n        const cityIndex = prev.indexOf(data.name)\r\n          let newArray = prev.filter((item, index)=> index !== cityIndex)\r\n          return newArray\r\n        })\r\n      }\r\n    }\r\n   \r\n    \r\n  };\r\n\r\n\r\n  const BookmarkBorderIconStyle = {\r\n    alignSelf: \"flex-end\",\r\n    transition : '0.3s'\r\n  }\r\n  \r\n  const BookmarkButton = useRef()\r\n\r\n  const isBookMarked = bookMarkedCities.filter(item=> item === data.name || item === city)\r\n\r\n  if(isBookMarked.length > 0 && BookmarkButton.current ){\r\n    BookmarkButton.current.classList.add(\"marked\")\r\n\r\n  }else{\r\n    if(BookmarkButton.current) BookmarkButton.current.classList.remove(\"marked\")\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className=\"answerData\">\r\n      <div className=\"location\">\r\n        <h1 className=\"cityName\">\r\n          {data.name}, {data.sys.country}\r\n        </h1>\r\n\r\n        <div\r\n          title={`Clouds: ${data.clouds.all}%`}\r\n          className=\"temperatureAnswer2\"\r\n        >\r\n          <img className=\"weatherIcon\" src={imgLink} alt=\"\" srcSet=\"\" />\r\n        </div>\r\n\r\n        <div className=\"localeTime\">\r\n          <p>\r\n            {isPolish\r\n              ? `${weekDaysPolish[new Date().getDay()]}`\r\n              : `${weekDays[new Date().getDay()]}`}\r\n          </p>\r\n          <p>{new Date().getDate() < 10 ? `0${time}` : time}</p>\r\n          <div>\r\n            {hours < 10 ? (\r\n              <p>\r\n                {minutes < 10\r\n                  ? `0${hours}:0${minutes}`\r\n                  : `0${hours}:${minutes}`}\r\n              </p>\r\n            ) : (\r\n              <p>\r\n                {minutes < 10 ? `${hours}:0${minutes}` : `${hours}:${minutes}`}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"temperature\">\r\n      \r\n        <BookmarkBorderIcon\r\n          ref={BookmarkButton}\r\n          className=\"bookMark\"\r\n          style={BookmarkBorderIconStyle}\r\n          onClick={handleMark}\r\n        />\r\n\r\n\r\n        <h2 title=\"Current\" className=\"primaryTemperature\">{`${Math.round(\r\n          data.main.temp\r\n        )}℃`}</h2>\r\n        <h4 title=\"MAX/MIN\" className=\"secondaryTemperature\">{`${Math.round(\r\n          data.main.temp_max\r\n        )}℃ / ${Math.round(data.main.temp_min)}℃`}</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnswerData;\r\n","const Bookmarks = ({bookMarkCities, setCity}) => {\r\n\r\nconst bookmarks = bookMarkCities.map((bookmark, index)=>{\r\n    return(\r\n        <div style={{transition: 0.3}} onClick={()=>{setCity(bookmark)}} key={index} className=\"bookmarkSelf\">\r\n            {bookmark}\r\n        </div>\r\n    )\r\n})\r\n\r\n    return ( \r\n        <div className=\"bookmarksSection\">\r\n            {bookmarks}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Bookmarks;","import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Switch from \"@material-ui/core/Switch\";\nimport AnswerData from \"./comp/AnswerData\";\nimport Bookmarks from \"./comp/Bookmarks\";\n\nfunction App() {\n  const API_KEY = \"40606d1a7691345518b8f45275e22d47\";\n  const [lang, setLang] = useState(\"eng\");\n  const cities = [\n    \"Warsaw\",\n    \"Paris\",\n    \"Madrid\",\n    \"Berlin\",\n    \"Barcelona\",\n    \"Rio\",\n    \"New York\",\n    \"Chicago\",\n    \"London\",\n    \"Rome\",\n    \"Tokyo\",\n  ];\n  const polishCities = [\n    \"Warszawa\",\n    \"Paryż\",\n    \"Madryt\",\n    \"Berlin\",\n    \"Barcelona\",\n    \"Rio\",\n    \"Nowy York\",\n    \"Chicago\",\n    \"Londyn\",\n    \"Rome\",\n    \"Tokio\",\n  ];\n  const [city, setCity] = useState();\n  const FetchURL = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&lang=${lang}&appid=${API_KEY}`;\n  const [iconID, setIconID] = useState(\"01d\");\n  const imgLink = `https://openweathermap.org/img/wn/${iconID}@2x.png`;\n  const [data, setData] = useState([]);\n  const [isPolish, setIsPolish] = useState(false);\n  const [hours, setHours] = useState(\"\");\n  const [bookMarkedCities, setBookMarkedCities] = useState([]);\n\n  useEffect(() => { // PAGE LOADS\n    if (!isPolish) {\n      setCity(cities[Math.floor(Math.random() * cities.length)]);\n    } else {\n      setCity(polishCities[Math.floor(Math.random() * polishCities.length)]);\n    }\n\n    if(localStorage.getItem('bookMarkedCities')){ // DOWNLOADING BOOKMARKS FORM LOCALSTORAGE (PAGE LOADS)\n          JSON.parse(localStorage.getItem(\"bookMarkedCities\")).forEach(city=>{\n      setBookMarkedCities(prev => [...prev, city])\n    })\n    }\n\n\n\n  }, []);\n\n  useEffect(() => { // FETCHING DATA FROM API , SETTING LANGUAGE (BUGGED)\n    fetch(FetchURL)\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.cod === 200) {\n          setData(res);\n          let newHours = new Date().getUTCHours();\n          newHours += res.timezone / 3600;\n          if (newHours >= 24) {\n            newHours -= 24;\n            setHours(newHours);\n          } else {\n            setHours(new Date().getUTCHours() + res.timezone / 3600);\n          }\n          setIconID(res.weather[0].icon);\n        }\n      });\n\n    if (!localStorage.getItem(\"isPolish\")) {\n      localStorage.setItem(\"isPolish\", false);\n    }\n    if (localStorage.getItem(\"isPolish\") === \"false\") {\n      setIsPolish(false);\n    } else {\n      setIsPolish(true);\n    }\n    \n\n  }, [city, FetchURL]);\n\n\n  useEffect(()=>{ // ADDING BOOKMARKS TO LOCALSTORAGE\n    localStorage.setItem(\"bookMarkedCities\", JSON.stringify(bookMarkedCities))\n  \n  },[bookMarkedCities])\n\n\n  return (\n    <div className=\"app\">\n      <div className=\"weatherApp\">\n        <div className=\"inputCity\">\n          <h2>{isPolish ? \"Podaj nazwe miasta\" : \"Enter city name\"}</h2>\n          <TextField\n            value={city}\n            onChange={(e) => setCity(e.target.value)}\n            id=\"outlined-basic\"\n            label={isPolish ? \"Miasto\" : \"City\"}\n            variant=\"outlined\"\n          />\n        </div>\n\n        {data.main ? (\n          <AnswerData\n            bookMarkedCities={bookMarkedCities}\n            setBookMarkedCities={setBookMarkedCities}\n            data={data}\n            imgLink={imgLink}\n            isPolish={isPolish}\n            hours={hours}\n            city={city}\n          />\n        ) : (\n          <CircularProgress />\n        )}\n      </div>\n      <Bookmarks setCity={setCity} bookMarkCities={bookMarkedCities} />\n\n      <div className=\"languageSwitch\">\n        ENG\n        <Switch\n          color=\"default\"\n          id=\"switch\"\n          checked={isPolish}\n          onChange={() => {\n            let previousIsPolish;\n            setIsPolish((prev) => !prev);\n            setLang((prev) => (prev === \"eng\" ? \"pl\" : \"eng\"));\n            if (localStorage.getItem(\"isPolish\") === \"false\") {\n              previousIsPolish = \"true\";\n            } else {\n              previousIsPolish = \"false\";\n            }\n            localStorage.setItem(\"isPolish\", previousIsPolish);\n          }}\n        />\n        PL\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}